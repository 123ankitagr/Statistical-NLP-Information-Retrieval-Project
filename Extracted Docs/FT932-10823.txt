Ian Mikardo , the independent-minded socialist who was a Labour MP for more than 40 years , died in hospital at Stockport , Greater Manchester , at the age of 84 .