A Washington city employee who reportedly has said Mayor Marion Barry smoked crack cocaine in 1988 pleaded guilty to a narcotics charge and then testified for two hours before a federal grand jury investigating the mayor . James L. McWilliams pleaded guilty to a misdemeanor count of aiding and abetting `` another person '' in the use of crack cocaine Dec. 19 , 1988 , when Barry allegedly used the drug at a downtown Ramada Inn . The Washington Post reported that McWilliams had agreed to tell the grand jury that he was in the hotel room as Barry smoked crack cocaine .